"use strict";(globalThis.webpackChunkkonifer_docs=globalThis.webpackChunkkonifer_docs||[]).push([[717],{2319:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"Reference/Assets API/assets-overview","title":"Overview","description":"Assets API is an API that lets you store, fetch, alter, and delete assets. Asset content is stored in your","source":"@site/docs/Reference/Assets API/overview.md","sourceDirName":"Reference/Assets API","slug":"/Reference/Assets API/assets-overview","permalink":"/Reference/Assets API/assets-overview","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"id":"assets-overview","title":"Overview","sidebar_label":"Overview"},"sidebar":"docsSidebar","previous":{"title":"URL Signing","permalink":"/Reference/url-signing"},"next":{"title":"Store","permalink":"/Reference/Assets API/asset-storing"}}');var i=t(4848),r=t(8453);const o={sidebar_position:1,id:"assets-overview",title:"Overview",sidebar_label:"Overview"},a="API Overview",d={},l=[{value:"To store",id:"to-store",level:2},{value:"To query",id:"to-query",level:2},{value:"Asset",id:"asset",level:2},{value:"Entry ID",id:"entry-id",level:2},{value:"Query Modifiers",id:"query-modifiers",level:2},{value:"Fetching (GET)",id:"fetching-get",level:3},{value:"Deleting",id:"deleting",level:3}];function c(e){const s={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"api-overview",children:"API Overview"})}),"\n",(0,i.jsx)(s.p,{children:"Assets API is an API that lets you store, fetch, alter, and delete assets. Asset content is stored in your\nconfigured object store and asset metadata is stored within the configured database."}),"\n",(0,i.jsx)(s.h1,{id:"api-design",children:"API Design"}),"\n",(0,i.jsxs)(s.p,{children:["Konifer's Asset API is wide-open and designed to fit your domain model(s). Similar to S3 or Zookeeper, the API is path-based.\nEverything after ",(0,i.jsx)(s.code,{children:"/assets/"})," is up to you. Assets are stored and queried by their path but unlike S3, many assets can\nreside at a single path representing a collection. Modifiers let you determine how you want your asset retrieved,\nhow many assets to retrieve, and ordering."]}),"\n",(0,i.jsx)(s.p,{children:"For example, let's say you wish to store an image for a customer's user profile:"}),"\n",(0,i.jsx)(s.h2,{id:"to-store",children:"To store"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-http",children:"POST /assets/users/123/profile-picture\n"})}),"\n",(0,i.jsx)(s.h2,{id:"to-query",children:"To query"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-http",children:"GET /assets/users/123/profile-picture\n"})}),"\n",(0,i.jsx)(s.h1,{id:"concepts",children:"Concepts"}),"\n",(0,i.jsx)(s.h2,{id:"asset",children:"Asset"}),"\n",(0,i.jsxs)(s.p,{children:["An ",(0,i.jsx)(s.strong,{children:"Asset"})," is a logical entity representing a static file. Currently, only ",(0,i.jsx)(s.strong,{children:"images"})," are supported, with plans to\nadd more file types (e.g., PDF). An asset is a combination of two objects:"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["The ",(0,i.jsx)(s.strong,{children:"Variant(s)"}),": The physical file content and its properties."]}),"\n",(0,i.jsxs)(s.li,{children:["The ",(0,i.jsx)(s.strong,{children:"Metadata"}),": The relational data stored in the database (e.g., ",(0,i.jsx)(s.code,{children:"labels"}),", ",(0,i.jsx)(s.code,{children:"tags"}),", ",(0,i.jsx)(s.code,{children:"source"}),")."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"entry-id",children:"Entry ID"}),"\n",(0,i.jsxs)(s.p,{children:["When an asset is stored at a path, an ",(0,i.jsx)(s.code,{children:"entryId"})," is generated by Konifer for that asset. The ",(0,i.jsx)(s.code,{children:"entryId"})," is a unique ",(0,i.jsx)(s.code,{children:"Long"}),"\nthat identifies the asset at that particular path. Entry IDs are best used to query for specific assets at a specific path."]}),"\n",(0,i.jsx)(s.h2,{id:"query-modifiers",children:"Query Modifiers"}),"\n",(0,i.jsxs)(s.p,{children:["When querying or deleting an asset, ",(0,i.jsx)(s.strong,{children:"Query Modifiers"})," provide fine-grained control over the operation.\nThey are specified after the ",(0,i.jsx)(s.strong,{children:"path-separator"}),", ",(0,i.jsx)(s.code,{children:"/-/"}),", in the URL."]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,i.jsx)(s.strong,{children:"Note:"}),"\nModifiers are currently only applicable to ",(0,i.jsx)(s.strong,{children:"fetching"})," (",(0,i.jsx)(s.code,{children:"GET"}),") and ",(0,i.jsx)(s.strong,{children:"deleting"})," (",(0,i.jsx)(s.code,{children:"DELETE"}),") assets. There are no\nquery modifiers for storing or updating an asset."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"The structure of a request using modifiers is:"}),"\n",(0,i.jsx)(s.h3,{id:"fetching-get",children:"Fetching (GET)"}),"\n",(0,i.jsx)(s.p,{children:"The query modifiers for fetching an asset are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Return format: The format you want the asset"}),"\n",(0,i.jsx)(s.li,{children:"Ordering: The ordering used when multiple assets exist in the same path"}),"\n",(0,i.jsx)(s.li,{children:"Limit: How many assets you want returned"}),"\n",(0,i.jsx)(s.li,{children:"Entry ID: Which specific asset do you want to fetch in the path"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"deleting",children:"Deleting"}),"\n",(0,i.jsx)(s.p,{children:"The query modifiers for deleting an asset are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Mode: How to identify assets to delete"}),"\n",(0,i.jsx)(s.li,{children:"Entry ID: Which specific asset do you want to delete in the path"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Query modifier defaults can always be omitted in the URL string."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var n=t(6540);const i={},r=n.createContext(i);function o(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);