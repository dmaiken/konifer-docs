"use strict";(globalThis.webpackChunkkonifer_docs=globalThis.webpackChunkkonifer_docs||[]).push([[102],{3752:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"Reference/configuration-reference","title":"Configuration Reference","description":"Values used in snippets are the default properties.","source":"@site/docs/Reference/configuration-reference.md","sourceDirName":"Reference","slug":"/Reference/configuration-reference","permalink":"/konifer-docs/Reference/configuration-reference","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"id":"configuration-reference","title":"Configuration Reference","sidebar_label":"Configurations"},"sidebar":"docsSidebar","previous":{"title":"Profiles","permalink":"/konifer-docs/Concepts/Variants/concepts-variant-profiles"},"next":{"title":"Image Transformations","permalink":"/konifer-docs/Reference/image-transformation-reference"}}');var s=n(4848),i=n(8453);const r={sidebar_position:1,id:"configuration-reference",title:"Configuration Reference",sidebar_label:"Configurations"},o=void 0,c={},d=[{value:"Datastore",id:"datastore",level:2},{value:"HTTP",id:"http",level:2},{value:"Object Store",id:"object-store",level:2},{value:"Source",id:"source",level:2},{value:"Variant Generation",id:"variant-generation",level:2},{value:"URL Signing",id:"url-signing",level:2},{value:"Path Configuration Reference",id:"path-configuration-reference",level:2},{value:"Image",id:"image",level:3},{value:"Preprocessing",id:"preprocessing",level:3},{value:"Variant Profiles",id:"variant-profiles",level:3},{value:"Object Store",id:"object-store-1",level:3}];function a(e){const t={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Values used in snippets are the default properties."}),"\n",(0,s.jsx)(t.h2,{id:"datastore",children:"Datastore"}),"\n",(0,s.jsx)(t.p,{children:"Properties for configuring the datastore."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'datastore {\n  provider = postgres\n  postgres {\n    database = konifer\n    host = localhost\n    port = 5432\n    user = postgres\n    password = ""\n  }\n}\n'})}),"\n",(0,s.jsx)(t.h2,{id:"http",children:"HTTP"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'http {\n  public-url = "http://localhost"\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"public-url "})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The URL used to resolve content selector links. This will be the root public URL of your website/platform/API."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any URL beginning with http:// or https://"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"http://localhost"})})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"object-store",children:"Object Store"}),"\n",(0,s.jsx)(t.p,{children:"Properties for configuring the datastore."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:"objectstore {\n  provider = filesystem\n  s3 { # No defaults - will override Default Provider Chain if supplied\n    access-key = [No default]\n    endpoint-url = [No default]\n    region = [No default]\n    secret-key = [No default]\n  }\n  filesystem {\n    mount-path = [No default]\n  }\n}\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"provider"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The implementation of your object store"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"in-memory"}),", ",(0,s.jsx)(t.code,{children:"s3"}),", ",(0,s.jsx)(t.code,{children:"filesystem"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"filesystem"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"s3.access-key "})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The access key of your S3 (or S3-compatible) object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any string"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"s3.endpoint-url"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The endpoint URL of your S3 (or S3-compatible) object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any string"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"s3.region"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The region of your object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any string"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"s3.secret-key"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The secret key of your object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any string"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"filesystem.mount-path"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The path that your filesystem is mounted to within your container"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Valid linux path (ex: ",(0,s.jsx)(t.code,{children:"/mnt/store"}),")"]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"source",children:"Source"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:"source {\n  url {\n    allowed-domains = []\n    max-bytes = 1048576 # 100MB\n  }\n  multipart {\n    max-bytes = 1048576 # 100MB\n  }\n}\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"source.url.allowed-domains"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Domains that Konifer is permitted to access when storing assets from a URL source"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any valid domain"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"[]"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"source.url.max-bytes"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Maximum size of supplied asset content downloaded from URL. Will reject assets larger than this."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Positive integer representing bytes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"1048576"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"s3.endpoint-url"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Maximum size of supplied asset content uploaded from Multipart source. Will reject assets larger than this."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Positive integer representing bytes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"1048576"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"variant-generation",children:"Variant Generation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:"variant-generation {\n  queue-size = 1000\n  synchronous-priority = 80\n  workers = [2 X CPU cores]\n}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"url-signing",children:"URL Signing"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:"url-signing {\n  enabled = false\n  algorithm = hmac_sha256\n  secret-key = [No default]\n}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"path-configuration-reference",children:"Path Configuration Reference"}),"\n",(0,s.jsxs)(t.p,{children:["By default, nothing is configured within ",(0,s.jsx)(t.code,{children:"paths"}),". If nothing was configured, this is how your paths would be configured\nby default"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'paths = [\n  {\n    path = "/**" # Match everything greedily after /\n    image {\n      lqip = []\n    }\n    preprocessing {\n      image {\n        # Preprocessing disabled by default\n      }\n    }\n    variant-profiles = []\n    object-store {\n      bucket = assets\n      redirect {\n        strategy = none\n      }\n    }\n    cache-control {\n      enabled = false\n    }\n  }\n]\n'})}),"\n",(0,s.jsx)(t.h3,{id:"image",children:"Image"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  image {\n    lqip = []\n  }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"preprocessing",children:"Preprocessing"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  preprocessing {\n    image {\n      # Preprocessing disabled by default\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"variant-profiles",children:"Variant Profiles"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  variant-profiles = []\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"object-store-1",children:"Object Store"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  object-store {\n    bucket = assets\n    redirect {\n      strategy = none\n    }\n  }\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var l=n(6540);const s={},i=l.createContext(s);function r(e){const t=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(i.Provider,{value:t},e.children)}}}]);