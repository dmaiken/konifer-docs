"use strict";(globalThis.webpackChunkkonifer_docs=globalThis.webpackChunkkonifer_docs||[]).push([[750],{8277:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Reference/Assets API/asset-deleting","title":"Deleting Assets","description":"Konifer takes a simple approach to deleting assets. When the asset is deleted, the metadata is deleted synchronously. All variant content is","source":"@site/docs/Reference/Assets API/delete-assets.md","sourceDirName":"Reference/Assets API","slug":"/Reference/Assets API/asset-deleting","permalink":"/konifer-docs/Reference/Assets API/asset-deleting","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"id":"asset-deleting","title":"Deleting Assets","sidebar_label":"Delete"},"sidebar":"docsSidebar","previous":{"title":"Update","permalink":"/konifer-docs/Reference/Assets API/asset-updating"}}');var n=t(4848),r=t(8453);const d={sidebar_position:5,id:"asset-deleting",title:"Deleting Assets",sidebar_label:"Delete"},l="Overview",a={},c=[{value:"Defaults",id:"defaults",level:2},{value:"Order",id:"order",level:2},{value:"Limit",id:"limit",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"overview",children:"Overview"})}),"\n",(0,n.jsxs)(s.p,{children:["Konifer takes a simple approach to deleting assets. When the asset is deleted, the metadata is deleted synchronously. All variant content is\nremoved from the object store asynchronously, however the variant metadata is deleted synchronously. There is ",(0,n.jsx)(s.strong,{children:"no recovery of an asset"})," after it is deleted."]}),"\n",(0,n.jsx)(s.h1,{id:"delete-modifiers",children:"Delete Modifiers"}),"\n",(0,n.jsxs)(s.p,{children:["Delete modifiers are positional values specified after the path-separator, ",(0,n.jsx)(s.code,{children:"/-/"}),". For the Delete Assets API, the positional ordering is:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-http",children:"DELETE /assets/{path}/-/{order}/{limit}\n"})}),"\n",(0,n.jsx)(s.h2,{id:"defaults",children:"Defaults"}),"\n",(0,n.jsx)(s.p,{children:"The following are the default values and can be omitted as modifiers:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["ordering: ",(0,n.jsx)(s.code,{children:"created"})]}),"\n",(0,n.jsx)(s.li,{children:"limit: 1"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"So this:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-http",children:"DELETE /assets/users/123/profile-picture\n"})}),"\n",(0,n.jsx)(s.p,{children:"Is the same as:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-http",children:"DELETE /assets/users/123/profile-picture/-/created/1\n"})}),"\n",(0,n.jsx)(s.h2,{id:"order",children:"Order"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"order"})," modifier functions identically to the ",(0,n.jsx)(s.code,{children:"order"})," modifier when fetching assets."]}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"created"}),": orders by the date the asset was created, descending. The newest asset created at the path will be returned first"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"modified"}),": orders by the date the asset was modified, descending. The most recently-modified asset at the path will be returned first.\nNote that an asset is not modified when a new variant is created. Only when attributes specific to the asset have been updated (labels, tags, alt, etc)\nwill the asset have been considered modified."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"limit",children:"Limit"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"limit"})," modified functions identically to the ",(0,n.jsx)(s.code,{children:"limit"})," modifier when fetching assets. It limits the amount of assets relative\nto the supplied ",(0,n.jsx)(s.code,{children:"order"})," will be deleted."]}),"\n",(0,n.jsxs)(s.p,{children:["For example, this will delete the 5 most-recently created assets in the ",(0,n.jsx)(s.code,{children:"/users/123/images"})," path:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-http",children:"DELETE /assets/users/123/images/-/created/5\n"})}),"\n",(0,n.jsxs)(s.h1,{id:"deleting-by-entryid",children:["Deleting By ",(0,n.jsx)(s.code,{children:"entryId"})]}),"\n",(0,n.jsxs)(s.p,{children:["To delete a specific asset by it's ",(0,n.jsx)(s.code,{children:"entryId"}),", supply the ",(0,n.jsx)(s.code,{children:"entryId"})," in the URL:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-http",children:"DELETE /assets/users/123/profile-picture/-/entry/1\n"})}),"\n",(0,n.jsx)(s.h1,{id:"deleting-by-path",children:"Deleting By Path"}),"\n",(0,n.jsxs)(s.p,{children:["To delete all assets at a specific path, set the ",(0,n.jsx)(s.code,{children:"limit"})," to ",(0,n.jsx)(s.code,{children:"all"}),". Any assets defined underneath the supplied with will\nnot be deleted."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-http",children:"DELETE /assets/users/123/profile-picture/-/all\n"})}),"\n",(0,n.jsx)(s.h1,{id:"deleting-assets-recursively",children:"Deleting Assets Recursively"}),"\n",(0,n.jsxs)(s.p,{children:["Let's say we want to delete all assets for user 123. To do so, supply the ",(0,n.jsx)(s.code,{children:"recursive"})," modifier in your request:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-http",children:"DELETE /assets/users/123/-/recursive\n"})}),"\n",(0,n.jsxs)(s.p,{children:["This will delete all assets with a path that starts with ",(0,n.jsx)(s.code,{children:"/users/123"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>d,x:()=>l});var i=t(6540);const n={},r=i.createContext(n);function d(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);