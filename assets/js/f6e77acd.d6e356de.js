"use strict";(globalThis.webpackChunkkonifer_docs=globalThis.webpackChunkkonifer_docs||[]).push([[102],{3752:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"Reference/configuration-reference","title":"Configuration Reference","description":"Values used in snippets are the default properties.","source":"@site/docs/Reference/configuration-reference.md","sourceDirName":"Reference","slug":"/Reference/configuration-reference","permalink":"/konifer-docs/Reference/configuration-reference","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"id":"configuration-reference","title":"Configuration Reference","sidebar_label":"Configuration Properties"},"sidebar":"docsSidebar","previous":{"title":"Profiles","permalink":"/konifer-docs/Concepts/Variants/concepts-variant-profiles"},"next":{"title":"Image Transformation","permalink":"/konifer-docs/Reference/image-transformation-reference"}}');var s=l(4848),i=l(8453);const r={sidebar_position:1,id:"configuration-reference",title:"Configuration Reference",sidebar_label:"Configuration Properties"},d=void 0,c={},h=[{value:"Datastore",id:"datastore",level:2},{value:"HTTP",id:"http",level:2},{value:"Object Store",id:"object-store",level:2},{value:"Source",id:"source",level:2},{value:"Variant Profiles",id:"variant-profiles",level:2},{value:"Variant Generation",id:"variant-generation",level:2},{value:"URL Signing",id:"url-signing",level:2},{value:"Path Configuration Reference",id:"path-configuration-reference",level:2},{value:"Image",id:"image",level:3},{value:"Preprocessing",id:"preprocessing",level:3},{value:"Eager Variants",id:"eager-variants",level:3},{value:"Object Store",id:"object-store-1",level:3},{value:"Return Format",id:"return-format",level:3},{value:"Cache Control",id:"cache-control",level:3}];function x(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Values used in snippets are the default properties."}),"\n",(0,s.jsx)(t.h2,{id:"datastore",children:"Datastore"}),"\n",(0,s.jsx)(t.p,{children:"Properties for configuring the datastore."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'datastore {\n  provider = postgresql\n  postgresql {\n    database = konifer\n    host = localhost\n    port = 5432\n    user = postgres\n    password = ""\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"datastore.provider"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The implementation of your metadata store"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"in-memory"}),", ",(0,s.jsx)(t.code,{children:"postgresql"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"postgresql"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"datastore.postgresql.database"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Database to use within the RDBMS"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"konifer"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"datastore.postgresql.host"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Postgresql host"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"localhost"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"datastore.postgresql.port"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Postgresql port"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Integer"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"5432"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"datastore.postgresql.user"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Postgresql user"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"postgres"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"datastore.postgresql.password"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Postgresql password"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:'""'})})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"http",children:"HTTP"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'http {\n  public-url = "http://localhost"\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"http.public-url"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The URL used to resolve content selector links. This is the root public URL of your website/platform/API."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any URL beginning with http:// or https://"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"http://localhost"})})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"object-store",children:"Object Store"}),"\n",(0,s.jsx)(t.p,{children:"Properties for configuring the datastore."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'objectstore {\n  provider = filesystem\n  s3 { # No defaults - overrides Default Provider Chain if supplied\n    access-key = "[no default]"\n    endpoint-url = "[no default]"\n    region = "[no default]"\n    secret-key = "[no default]"\n  }\n  filesystem {\n    mount-path = "[no default]"\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"objectstore.provider"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The implementation of your object store"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"in-memory"}),", ",(0,s.jsx)(t.code,{children:"s3"}),", ",(0,s.jsx)(t.code,{children:"filesystem"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"filesystem"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"objectstore.s3.access-key "})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The access key of your S3 (or S3-compatible) object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"objectstore.s3.endpoint-url"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The endpoint URL of your S3 (or S3-compatible) object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"objectstore.s3.region"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The region of your object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"objectstore.s3.secret-key"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The secret key of your object store"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"objectstore.s3.force-path-style"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Communicate with S3 API using path-style or virtual-host style"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Boolean"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"false"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"objectstore.filesystem.mount-path"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The path that your filesystem is mounted to within your container"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Valid linux path (ex: ",(0,s.jsx)(t.code,{children:"/mnt/store"}),")"]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"source",children:"Source"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:"source {\n  url {\n    allowed-domains = []\n    max-bytes = 1048576 # 100MB\n  }\n  multipart {\n    max-bytes = 1048576 # 100MB\n  }\n}\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"source.url.allowed-domains"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Domains that Konifer is permitted to access when storing assets from a URL source"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any valid domain"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"[]"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"source.url.max-bytes"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Maximum size of supplied asset content downloaded from URL. Will reject assets larger than this."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Positive integer representing bytes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"1048576"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"source.multipart.max-bytes"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Maximum size of supplied asset content uploaded from Multipart source. Will reject assets larger than this."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Positive integer representing bytes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"1048576"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"variant-profiles",children:"Variant Profiles"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'variant-profiles = [\n  # Empty by default\n  {\n    name = ""\n  }\n]\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"variant-profiles"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Array of defined variant profiles that canfor eager variants and on-demand variants."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Variant profile object"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"[]"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"variant-profiles.name"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Name of the variant profile"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Any url-safe string"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["All ",(0,s.jsx)(t.a,{href:"/konifer-docs/Reference/image-transformation-reference#parameter-reference",children:"image transformation parameters"})," can be used within a variant profile object."]}),"\n",(0,s.jsx)(t.h2,{id:"variant-generation",children:"Variant Generation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:"variant-generation {\n  queue-size = 1000\n  synchronous-priority = 80\n  workers = [2 X CPU cores]\n}\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"variant-generation.queue-size"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Amount of variant generation requests that can be queued up awaiting processing. Requests over this limit suspend the request."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Positive integer"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"1000"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"variant-generation.synchronous-priority"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Percentage priority to give to synchronous variant generation tasks. The remaining priority is reversed for async tasks."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"1-99"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"80"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"variant-generation.workers"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Amount of concurrent image processor workers"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Positive integer"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2 x CPU cores"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"url-signing",children:"URL Signing"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'url-signing {\n  enabled = false\n  algorithm = hmac_sha256\n  secret-key = "[no default]"\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"url-signing.enabled"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Enable url-signing for GET requests or not"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Boolean"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"false"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"url-signing.algorithm"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"HMAC signing algorithm that signatures use"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"hmac_sha256"}),", ",(0,s.jsx)(t.code,{children:"hmac_sha384"}),", ",(0,s.jsx)(t.code,{children:"hmac_sha512"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"hmac_sha256"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"url-signing.secret-key"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"HMAC secret key used for validating signatures"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"path-configuration-reference",children:"Path Configuration Reference"}),"\n",(0,s.jsxs)(t.p,{children:["By default, nothing is configured within ",(0,s.jsx)(t.code,{children:"paths"}),". If nothing was configured, this is how your paths would be configured\nby default"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'paths = [\n  {\n    path = "/**" # Match everything greedily after /\n    image {\n      lqip = []\n    }\n    preprocessing {\n      enabled = false\n      image {\n        # Preprocessing disabled by default\n        # Populate with URL manipulation parameters i.e. w = 100, h = 200, r = 90, etc.\n      }\n    }\n    eager-variants = []\n    object-store {\n      bucket = assets\n    }\n    return-format {\n      redirect {\n        strategy = none\n        template {\n          string = localhost\n        }\n        presigned {\n          enabled = false\n          ttl = 30m\n        }\n      }\n    }\n    cache-control {\n      enabled = false\n      max-age = "[no default]"\n      s-maxage = "[no default]"\n      visibility = "[no default]"\n      revalidate = "[no default]"\n      stale-while-revalidate = "[no default]"\n      stale-if-error = "[no default]"\n      immutable = false\n    }\n  }\n]\n'})}),"\n",(0,s.jsx)(t.h3,{id:"image",children:"Image"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  image {\n    lqip = []\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"image.lqip"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"LQIP algorithms enabled"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"blurhash"}),",  ",(0,s.jsx)(t.code,{children:"thumbhash"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"[]"})})]})})]}),"\n",(0,s.jsx)(t.h3,{id:"preprocessing",children:"Preprocessing"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  preprocessing {\n    enabled = false\n    image {\n      # Preprocessing disabled by default\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"preprocessing.enabled "})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Enable preprocessing"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Boolean"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"false"})})]})})]}),"\n",(0,s.jsxs)(t.p,{children:["All ",(0,s.jsx)(t.a,{href:"/konifer-docs/Reference/image-transformation-reference#parameter-reference",children:"image transformation parameters"})," can be used within the ",(0,s.jsx)(t.code,{children:"image"})," block."]}),"\n",(0,s.jsx)(t.h3,{id:"eager-variants",children:"Eager Variants"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  eager-variants = []\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"eager-variants"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"List of variant profiles to generate eager variants from"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["profiles names from ",(0,s.jsx)(t.code,{children:"variant-profiles"})," array"]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"None"})]})})]}),"\n",(0,s.jsx)(t.h3,{id:"object-store-1",children:"Object Store"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  object-store {\n    bucket = assets\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"object-store.bucket"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Bucket to persist assets and variants in. This can be safely changed without de-referencing existing assets, however, existing assets are not moved to new bucket."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Valid bucket name"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"assets"})})]})})]}),"\n",(0,s.jsx)(t.h3,{id:"return-format",children:"Return Format"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  return-format {\n    redirect {\n      strategy = none\n      template {\n        string = localhost\n      }\n      presigned {\n        ttl = 30m\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"return-format.redirect.strategy"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"How to serve redirect URLs"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"none"}),", ",(0,s.jsx)(t.code,{children:"presigned"}),", ",(0,s.jsx)(t.code,{children:"template"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"none"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"return-format.redirect.template.string"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Template string to use if ",(0,s.jsx)(t.code,{children:"strategy"})," is ",(0,s.jsx)(t.code,{children:"template"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Valid URL string"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"localhost"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"return-format.redirect.presigned.ttl"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Time-to-live for presigned redirect URLs if ",(0,s.jsx)(t.code,{children:"strategy"})," is presigned"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Duration-style format. Not less than 7 days (",(0,s.jsx)(t.code,{children:"7d"}),")"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"30m"})," (30 minutes)"]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"cache-control",children:"Cache Control"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-hocon",children:'{\n  path = "/**"\n  cache-control {\n    enabled = false\n    max-age = "[no default]"\n    s-maxage = "[no default]"\n    visibility = "[no default]"\n    revalidate = "[no default]"\n    stale-while-revalidate = "[no default]"\n    stale-if-error = "[no default]"\n    immutable = false\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Allowed Input"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"enabled"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Whether the ",(0,s.jsx)(t.code,{children:"Cache-Control"})," header should be returned"]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Boolean"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"false"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"max-age"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Set the ",(0,s.jsx)(t.code,{children:"max-age"})," descriptor"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Integer ",(0,s.jsx)(t.code,{children:"> 0"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"s-maxage"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Set the ",(0,s.jsx)(t.code,{children:"max-age"})," descriptor"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Integer ",(0,s.jsx)(t.code,{children:"> 0"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"visibility"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Set the visbility of the cached asset"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"public"}),", ",(0,s.jsx)(t.code,{children:"private"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"revalidate"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Cache control revalidation"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"must-revalidate"}),", ",(0,s.jsx)(t.code,{children:"proxy-revalidate"}),", ",(0,s.jsx)(t.code,{children:"no-cache"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"stale-while-revalidate "})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Set the ",(0,s.jsx)(t.code,{children:"stale-while-revalidate"})," descriptor"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Integer ",(0,s.jsx)(t.code,{children:"> 0"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"stale-if-error "})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Set the ",(0,s.jsx)(t.code,{children:"stale-if-error"})," descriptor"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Integer ",(0,s.jsx)(t.code,{children:"> 0"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"immutable"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Whether to set the ",(0,s.jsx)(t.code,{children:"immutable"})," descriptor"]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Boolean"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"false"})})]})]})]})]})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},8453:(e,t,l)=>{l.d(t,{R:()=>r,x:()=>d});var n=l(6540);const s={},i=n.createContext(s);function r(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);