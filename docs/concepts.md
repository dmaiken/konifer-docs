---
sidebar_position: 3
id: concepts-terminology
title: Concepts and Terminology
sidebar_label: "Concepts and Terminology"
---
# API
Direkt's API is wide-open and designed to fit your domain model(s). Similar to S3 or Zookeeper, the API is path-based. 
Everything after `/assets/` is up to you. Assets are stored and queried by their path but unlike S3, many assets can 
reside at a single path representing a collection. Modifiers let you determine how you want your asset retrieved, 
how many assets to retrieve, and ordering.

For example, let's say you wish to store an image for a customer's user profile:
## To store
```http
POST /assets/users/123/profile-picture
```
## To query
```http
GET /assets/users/123/profile-picture
```

# Concepts
## Asset
A static file. Currently only images are supported but more are coming!

## Query Modifiers
When querying for an asset, you have many options controlling the return format, the ordering, and how many you want returned.
These are specified after the **path-separator**, `/-/`.

### Return format
You can return your asset in one of five different return formats:
1. `link` (**default**): Returns a link to the asset in your object store. If you have any LQIPs enabled, these are returned as well.
```http
GET /assets/users/123/profile-picture/-/link
OR
GET /assets/users/123/profile-picture
```
Returns:
```json

```
2. `content`: a stream of the asset itself from Direkt
```http
GET /assets/users/123/profile-picture/-/content
```
Returns:
```json

```
3. `download`: similar to `content` but sets the `Content-Disposition` header so that the asset triggers a file download 
window on a browser.
```http
GET /assets/users/123/profile-picture/-/download
```
Returns:
```json

```
4. `redirect`: a redirect (30x?) to the object store URL
```http
GET /assets/users/123/profile-picture/-/redirect
```
Returns:
```json

```
5. `metadata`: a json response of the image and it's properties, cached variants, and image attributes.
```http
GET /assets/users/123/profile-picture/-/redirect
```
Returns:
```json

```

### Ordering
When fetching a single asset or multiple assets, you can specify an ordering. Currently only `created` is supported meaning
the assets are returned in the order of creation, descending. Using `created` means each path operates like a stack where
the newest image is returned first.

To specify an ordering place it after the return format option:
```http
GET /assets/users/123/profile-picture/-/redirect/created
```
This also works if you are wanting the `link` of the newest asset in the path since `link` is the default return format:
```http
GET /assets/users/123/profile-picture/-/created
```
TODO: support `!created` and `modified`.

### Limit
By default, Direkt returns one asset, however, depending on the return format specified, you can return the 3 most-recent with:
```http
GET /assets/users/123/profile-picture/-/link/created/3
```
Limits can only be specified for return formats of:
- `metadata`
- `link`

### Defaults
The following are the default values and can be omitted from your query:
- Return format: `link`
- Ordering: `created`
- Limit: 1
So this:
```http
GET /assets/users/123/profile-picture
```
Is the same as:
```http
GET /assets/users/123/profile-picture/-/link/created/1
```
Any default can be omitted for brevity
```http
GET /assets/users/123/profile-picture/-/metadata/created/1
```
is the same as:
```http
GET /assets/users/123/profile-picture/-/metadata
```

## Entry ID
When an asset is stored at a path, an `entryId` is generated by Direkt for that asset. The `entryId` is a unique `Long` 
that identifies the asset at a particular path. If you only store one asset within a path, this is not useful. Entry IDs
are best used to query for specific assets at a specific path.

